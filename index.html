<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>Simple Gantt</title>
        <style>
            html,body {
                font-family: sans-serif;
                background: #fff;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            .container {
                width: 100%;
                height: 100%;
                /*margin: 0 auto;*/
            }

            /* custom class */
            .gantt .bar-milestone .bar {
                fill: tomato;
            }

            .heading {
                padding: 0;
                margin: 0;
                text-align: center;
            }

            .gantt-target.dark {
                background-color: #252525;
                height: 100%;
            }

            .gantt-target {
                height: 100%;
            }
        </style>
        <link rel="stylesheet" href="dist/frappe-gantt.css" />
        <script src="dist/frappe-gantt.js"></script>
    </head>
    <body>
        <div class="container">
            <div class="gantt-target "></div>
        </div>
        <script type="module">
            let tasks = [
                {
                    "id": "1",
                    "start": "2024-07-01T00:00:00+05:00",
                    "end": "2025-04-01T00:00:00+05:00",
                    "title": "Белычева Анна Аркадьевна",
                    "group": {
                        "id": "1",
                        "name": "Психолог"
                    },
                    "dependencies": []
                },
                {
                    "id": "2",
                    "start": "2024-09-30T00:00:00+05:00",
                    "end": "2024-12-31T00:00:00+05:00",
                    "title": "Терентьев Артем Валерьевич",
                    "group": {
                        "id": "2",
                        "name": "Разраб"
                    },
                    "dependencies": []
                },
                {
                    "id": "3",
                    "start": "2024-09-14T00:00:00+05:00",
                    "end": "2025-01-20T00:00:00+05:00",
                    "title": "Рыжков Владимир Сергеевич",
                    "group": {
                        "id": "3",
                        "name": "Верстальщик"
                    },
                    "dependencies": []
                },
                {
                    "id": "4",
                    "start": "2024-10-01T00:00:00+05:00",
                    "end": "2024-12-31T00:00:00+05:00",
                    "title": "Жижик Иван Анатольевич",
                    "group": {
                        "id": "4",
                        "name": "Штатный таролог"
                    },
                    "dependencies": []
                },
                {
                    "id": "5",
                    "start": "2024-10-02T00:00:00+05:00",
                    "end": "2025-01-01T00:00:00+05:00",
                    "title": "Болдырев Евгений Юрьевич",
                    "group": {
                        "id": "5",
                        "name": "Хирург"
                    },
                    "dependencies": []
                },
                {
                    "id": "6",
                    "start": "2024-10-01T00:00:00+05:00",
                    "end": "2024-11-20T00:00:00+05:00",
                    "title": "Рыжков Владимир Сергеевич",
                    "group": {
                        "id": "6",
                        "name": "JS разраб"
                    },
                    "dependencies": []
                },
                {
                    "id": "7",
                    "start": "2024-07-03T00:00:00+05:00",
                    "end": "2025-02-17T00:00:00+05:00",
                    "title": "Болдырев Евгений Юрьевич",
                    "group": {
                        "id": "7",
                        "name": "ДевОпс"
                    },
                    "dependencies": []
                },
                {
                    "id": "8",
                    "start": "2024-08-18T00:00:00+05:00",
                    "end": "2025-02-16T00:00:00+05:00",
                    "title": "Язовских Сергей Васильевич",
                    "group": {
                        "id": "8",
                        "name": "Сетевой архитектор"
                    },
                    "dependencies": []
                }
            ];

            // Uncomment to test fixed header
            tasks = [
                ...tasks,
                ...Array.from({ length: tasks.length * 0 }, (_, i) => ({
                    ...tasks[i % 1],
                    id: i,
                })),
            ];
            let gantt_chart = new Gantt('.gantt-target', tasks, {
                columns: [
                    {
                        title: 'Группа',
                        property: 'group',
                    },
                ],
                header_height: 70,
                bar_height: 50,
                column_width: 68,
                details_column_width: 150,
                step: 24,
                view_modes: [
                    'Quarter Day',
                    'Half Day',
                    'Day',
                    'Week',
                    'Month',
                    'Year',
                ],
                bar_corner_radius: 5,
                arrow_curve: 50,
                padding: 18,
                view_mode: 'Year',
                date_format: 'YYYY-MM-DD',
                popup_trigger: null,
                custom_popup_html: null,
                language: 'ru',
                highlight_weekend: true,
                alternate_row_color: false,
                progress_enable: false,
                enable_grouping: true,
                lines: 'both',
                on_click: (task) => {
                    console.log(task);
                },
                on_date_change: (task, start, end) => {
                    console.log(task, start, end);
                },
                on_create_event: (groupId, start, end) => {
                    // gantt_chart.change_view_mode('Month');
                },
            });
        </script>
    </body>
</html>
